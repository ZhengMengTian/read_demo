{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/read_demo/pages/read/read.vue?f429","webpack:///D:/read_demo/pages/read/read.vue?a4b1","webpack:///D:/read_demo/pages/read/read.vue?3f84","uni-app:///pages/read/read.vue","webpack:///D:/read_demo/pages/read/read.vue?db3e","webpack:///D:/read_demo/pages/read/read.vue?a9f7"],"names":["createPage","Page"],"mappings":"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KA,CA7KA,EA6KA;AACA;AACA;AACA;AACA,KAjLA;;AAmLA;;;AAGA,YAtLA,oBAsLA,CAtLA,EAsLA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,OAVA;AAWA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;AACA;AACA,WAPA;AAQA;AACA;AACA,WAFA;AAGA;AACA;AACA,WAFA;AAGA;AACA;AACA;AACA;AACA;AACA,KAjOA;;AAmOA;;;AAGA,aAtOA,qBAsOA,CAtOA,EAsOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,iCAFA;;AAIA;AACA;AACA;AACA;AACA,+BADA;AAEA,4BAFA;;AAIA,aALA;AAMA;AACA;AACA;AACA,WAlBA;AAmBA;AACA;AACA;AACA,SAvBA;AAwBA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,iCAFA;;AAIA;AACA;AACA;AACA;AACA,8BADA;AAEA,4BAFA;;AAIA,aALA;AAMA;AACA;AACA;AACA,WAlBA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA;AACA,KA7RA;;AA+RA;;;AAGA,YAlSA,sBAkSA;;;;AAIA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KA1SA;;AA4SA;;;AAGA,aA/SA,uBA+SA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KAzTA;;AA2TA;;;AAGA,eA9TA,yBA8TA;;AAEA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KApUA;;AAsUA;;;AAGA,iBAzUA,2BAyUA;;;;AAIA;AACA;AACA;AACA,OAFA,EAEA,GAFA;AAGA,KAjVA;;AAmVA;;;AAGA,WAtVA,qBAsVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,wBAFA;;AAIA,SALA;AAMA;AACA;AACA,sCADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA,WAFA,EAEA,wBAFA;AAGA;AACA,OAtBA;AAuBA;AACA;AACA;AACA;AACA,KAlXA;;AAoXA;;;AAGA,YAvXA,sBAuXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;;AAIA,SALA;AAMA;AACA;AACA,uCADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA,WAFA,EAEA,wBAFA;AAGA;AACA,OAtBA;AAuBA;AACA;AACA;AACA;;AAEA,KApZA;;AAsZA;;;AAGA,eAzZA,yBAyZA;AACA;AACA;AACA;AACA,oBADA;AAEA,2BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAnbA;;AAqbA;;;AAGA,cAxbA,wBAwbA;AACA;AACA;AACA;AACA,oBADA;AAEA,2BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAndA;;AAqdA;;;AAGA,YAxdA,oBAwdA,IAxdA,EAwdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,OAPA;AAQA,KAteA;;AAweA;;;AAGA,WA3eA,qBA2eA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OAPA;AAQA;AACA;AACA,uBADA;AAEA,sBAFA;;AAIA;;;AAGA,KA5fA;;AA8fA;;;AAGA,aAjgBA,uBAigBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OAPA;AAQA;AACA;AACA,uBADA;AAEA,sBAFA;;AAIA;AACA,KAhhBA;;AAkhBA;;;AAGA,cArhBA,sBAqhBA,IArhBA,EAqhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApiBA;;;AAuiBA;;;AAGA,oBA1iBA,4BA0iBA,UA1iBA,EA0iBA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA,KAtjBA;;AAwjBA;;;AAGA,oBA3jBA,4BA2jBA,UA3jBA,EA2jBA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA,KAnkBA;;AAqkBA;;;AAGA,WAxkBA,qBAwkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BADA;AAEA,yEAFA;;AAIA;AACA;AACA,SAzBA,EAyBA,IAzBA;AA0BA,OA5BA;;AA8BA,KAxmBA;;AA0mBA;;;AAGA,WA7mBA,mBA6mBA,SA7mBA,EA6mBA,IA7mBA,EA6mBA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA,SAVA;AAWA;AACA;AACA;AACA;AACA,WAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA;;AAEA,OA7BA,EA6BA,IA7BA;AA8BA,KAnpBA;;AAqpBA;;;AAGA,eAxpBA,uBAwpBA,SAxpBA,EAwpBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA,SApBA,EAoBA,IApBA;AAqBA,OAxBA;AAyBA,KAprBA,EA/DA,E;;;;;;;;;;;;;ACpOA;AAAA;AAAA;AAAA;AAAorC,CAAgB,iqCAAG,EAAC,C;;;;;;;;;;;ACAxsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/read/read.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/read/read.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./read.vue?vue&type=template&id=95d93a74&scoped=true&\"\nvar renderjs\nimport script from \"./read.vue?vue&type=script&lang=js&\"\nexport * from \"./read.vue?vue&type=script&lang=js&\"\nimport style0 from \"./read.vue?vue&type=style&index=0&id=95d93a74&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"95d93a74\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/read/read.vue\"\nexport default component.exports","export * from \"-!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./read.vue?vue&type=template&id=95d93a74&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./read.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./read.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 注意：最多100页，多了要改z-index最大值 -->\r\n\t<view>\r\n\t\t\r\n\t\t<!-- 操作层 -->\r\n\t\t<view class=\"action\" @touchstart=\"touchStart\" @touchend=\"touchEnd\" @touchmove=\"touchMove\">\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 仅用于计算 -->\r\n\t\t<view class=\"container hidden\">\r\n\t\t\t<view class=\"chapter\">\r\n\t\t\t\t{{chapterName}}\r\n\t\t\t</view>\r\n\t\t\t<view id=\"content\" class=\"content\"\r\n\t\t\t\t:style=\"{height:`${contentHeight}px`, width: `${contentWidth}px`,\r\n\t\t\t\t columns: `${contentWidth}px`, columnGap:`${columnGap}px`}\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"book-inner\" id=\"text\" v-html=\"text\"\r\n\t\t\t\t\t:style=\"{fontSize: `${fontSize}px`, lineHeight: `${lineHeight*fontSize}px`}\"\r\n\t\t\t\t>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-bar\">\r\n\t\t\t\t显示电量、页码\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"container hidden\">\r\n\t\t\t<view class=\"chapter\">\r\n\t\t\t\t{{chapterName}}\r\n\t\t\t</view>\r\n\t\t\t<view id=\"content\" class=\"content\"\r\n\t\t\t\t:style=\"{height:`${contentHeight}px`, width: `${contentWidth}px`,\r\n\t\t\t\t columns: `${contentWidth}px`, columnGap:`${columnGap}px`}\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"book-inner\" id=\"preText\" v-html=\"preText\"\r\n\t\t\t\t\t:style=\"{fontSize: `${fontSize}px`, lineHeight: `${lineHeight*fontSize}px`}\"\r\n\t\t\t\t>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-bar\">\r\n\t\t\t\t显示电量、页码\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"container hidden\">\r\n\t\t\t<view class=\"chapter\">\r\n\t\t\t\t{{chapterName}}\r\n\t\t\t</view>\r\n\t\t\t<view id=\"content\" class=\"content\"\r\n\t\t\t\t:style=\"{height:`${contentHeight}px`, width: `${contentWidth}px`,\r\n\t\t\t\t columns: `${contentWidth}px`, columnGap:`${columnGap}px`}\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"book-inner\" id=\"nextText\" v-html=\"nextText\"\r\n\t\t\t\t\t:style=\"{fontSize: `${fontSize}px`, lineHeight: `${lineHeight*fontSize}px`}\"\r\n\t\t\t\t>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-bar\">\r\n\t\t\t\t显示电量、页码\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 阅读页 -->\r\n\t\t\r\n\t\t<!-- 上一章 -->\r\n\t\t<view class=\"container\" :class=\"{container0: background === 1, container1: background === 2}\"\r\n\t\t\t:style=\"{zIndex: 300, transform: `translateX(${preTranslateX}px)`, transition: `all ${showAnimation?turnPageTime:0}s`}\"\r\n\t\t>\r\n\t\t\t<view class=\"chapter\">\r\n\t\t\t\t{{preChapterName}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"content\"\r\n\t\t\t\t:style=\"{height:`${contentHeight}px`, width: `${contentWidth}px`,\r\n\t\t\t\tfontSize: `${fontSize}px`,color: `${colorList[background - 1]}`,\r\n\t\t\t\ttransform: `translateX(-${(prePages.length-1)*(contentWidth+columnGap)}px)`,\r\n\t\t\t\tcolumns: `${contentWidth}px`, columnGap:`${columnGap}px`}\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"book-inner\" v-html=\"text\"\r\n\t\t\t\t\t:style=\"{fontSize: `${fontSize}px`, lineHeight: `${lineHeight*fontSize}px`}\"\r\n\t\t\t\t>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-bar\">\r\n\t\t\t\t{{prePages.length}}/{{prePages.length}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 本章 -->\r\n\t\t<view class=\"container\" :class=\"{container0: background === 1, container1: background === 2}\"\r\n\t\t\tv-for=\"item of pages\" :key=\"item.id\" \r\n\t\t\t:style=\"{zIndex: item.zIndex, transform: `translateX(${item.translateX}px)`, transition: `all ${showAnimation?turnPageTime:0}s`}\"\r\n\t\t>\r\n\t\t<!-- v-if=\"item.id - currentPage < 2 && item.id - currentPage > -2\" -->\r\n\t\t\t<view class=\"chapter\">\r\n\t\t\t\t{{chapterName}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"content\"\r\n\t\t\t\t:style=\"{height:`${contentHeight}px`, width: `${contentWidth}px`,\r\n\t\t\t\tfontSize: `${fontSize}px`,color: `${colorList[background - 1]}`,\r\n\t\t\t\ttransform: `translateX(-${item.id*(contentWidth+columnGap)}px)`,\r\n\t\t\t\tcolumns: `${contentWidth}px`, columnGap:`${columnGap}px`}\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"book-inner\" v-html=\"text\"\r\n\t\t\t\t\t:style=\"{fontSize: `${fontSize}px`, lineHeight: `${lineHeight*fontSize}px`}\"\r\n\t\t\t\t>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-bar\">\r\n\t\t\t\t{{item.id + 1 }}/{{pages.length}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 下一章 -->\r\n\t\t<view class=\"container\" :class=\"{container0: background === 1, container1: background === 2}\"\r\n\t\t\t:style=\"{zIndex: 100, transform: `translateX(0px)`}\"\r\n\t\t\tv-if=\"pages.length\"\r\n\t\t>\r\n\t\t\t<view class=\"chapter\">\r\n\t\t\t\t{{nextChapterName}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"content\"\r\n\t\t\t\t:style=\"{height:`${contentHeight}px`, width: `${contentWidth}px`,\r\n\t\t\t\tfontSize: `${fontSize}px`,color: `${colorList[background - 1]}`,\r\n\t\t\t\ttransform: `translateX(0px)`,\r\n\t\t\t\tcolumns: `${contentWidth}px`, columnGap:`${columnGap}px`}\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"book-inner\" v-html=\"nextText\"\r\n\t\t\t\t\t:style=\"{fontSize: `${fontSize}px`, lineHeight: `${lineHeight*fontSize}px`}\"\r\n\t\t\t\t>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-bar\">\r\n\t\t\t\t1/{{nextPages.length}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 菜单层 -->\r\n\t\t<view class=\"menu\" :style=\"{height: `${windowHeight}px`, width: `${windowWidth}px`,background: directoryShow?'rgba(0, 0, 0, .5)':''}\" \r\n\t\tv-if=\"menuShow\" @touchend=\"closeMenu\">\r\n\t\t\t\r\n\t\t\t<view class=\"menu-top\" :style=\"{height: `${statusBarHeight + 40}px`, top: itemShow ? 0 : `-100%`}\" @touchend.stop>\r\n\t\t\t\t<view :style=\"{height: `${statusBarHeight}px`}\"></view>\r\n\t\t\t\t<view class=\"head\">\r\n\t\t\t\t\t<text class=\"iconfont back\" @click=\"back\">&#xe71a;</text>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t{{chapterName}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"menu-bottom\" :style=\"{bottom: itemShow ? 0 : '-100%'}\" @touchend.stop>\r\n\t\t\t\t<view class=\"show-page\">{{currentPage + 1 }}/{{pages.length}}</view>\r\n\t\t\t\t<view class=\"progress-box\">\r\n\t\t\t\t\t<text @click=\"preChapter\">上一章</text>\r\n\t\t\t\t\t<view style=\"flex: 1;height: 100%;padding: 0 10px;\">\r\n\t\t\t\t\t\t<my-progress :total=\"pages.length - 1 || 1\" :index=\"currentPage\" @indexChange=\"goToPage\"></my-progress>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text @click=\"nextChapter\">下一章</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"items-box\">\r\n\t\t\t\t\t<view class=\"item-box\" @click=\"openDirectory\">\r\n\t\t\t\t\t\t<text class=\"iconfont\" style=\"font-size: 25px;\">&#xe601;</text>\r\n\t\t\t\t\t\t<text style=\"font-size: 13px;\">目录</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item-box\" v-if=\"background === 2\" @click=\"changeBackground(1)\">\r\n\t\t\t\t\t\t<text class=\"iconfont\" style=\"font-size: 25px;\">&#xe63e;</text>\r\n\t\t\t\t\t\t<text style=\"font-size: 13px;\">夜间</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item-box\" v-if=\"background === 1\" @click=\"changeBackground(2)\">\r\n\t\t\t\t\t\t<text class=\"iconfont\" style=\"font-size: 25px;\">&#xe64c;</text>\r\n\t\t\t\t\t\t<text style=\"font-size: 13px;\">日间</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item-box\" @click=\"openSetting\">\r\n\t\t\t\t\t\t<text class=\"iconfont\" style=\"font-size: 25px;\">&#xe61d;</text>\r\n\t\t\t\t\t\t<text style=\"font-size: 13px;\">设置</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"setting\" :style=\"{bottom: settingShow ? 0 : `-100%`}\" @touchend.stop>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<view class=\"item-name\">字号</view>\r\n\t\t\t\t\t<view class=\"icon\" @click=\"bigSize\">A+</view>\r\n\t\t\t\t\t<view class=\"icon\" @click=\"smallSize\">A-</view>\r\n\t\t\t\t\t<view class=\"icon\" @click=\"changeFont(false)\" v-if=\"simplified\">繁體</view>\r\n\t\t\t\t\t<view class=\"icon\" @click=\"changeFont(true)\" v-else style=\"border: #FF9900 solid 1px;color: #FF9900\">繁體</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<view class=\"item-name\">排版</view>\r\n\t\t\t\t\t<view class=\"type-setting\" :class=\"{active: lineHeight === 1}\" @click=\"changeLineHeight(1)\">\r\n\t\t\t\t\t\t<view class=\"line\" :class=\"{active: lineHeight === 1}\" v-for=\"i in 5\" :key=\"i\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"type-setting\" :class=\"{active: lineHeight === 1.5}\" @click=\"changeLineHeight(1.5)\">\r\n\t\t\t\t\t\t<view class=\"line\" :class=\"{active: lineHeight === 1.5}\" v-for=\"i in 4\" :key=\"i\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"type-setting\" :class=\"{active: lineHeight === 2}\" @click=\"changeLineHeight(2)\">\r\n\t\t\t\t\t\t<view class=\"line\" :class=\"{active: lineHeight === 2}\" v-for=\"i in 3\" :key=\"i\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<view class=\"item-name\">背景</view>\r\n\t\t\t\t\t<view class=\"icon\" style=\"background: url(../../static/background1.jpg);\" :class=\"{active: background === 1}\" @click=\"changeBackground(1)\"></view>\r\n\t\t\t\t\t<view class=\"icon\" style=\"background-color: #000;\" :class=\"{active: background === 2}\" @click=\"changeBackground(2)\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 目录层 -->\r\n\t\t\t<view class=\"directory\" :class=\"{container0: background === 1, container1: background === 2}\"\r\n\t\t\t :style=\"{left: directoryShow ? 0 : '-100%',color: `${colorList[background - 1]}`}\"  @touchend.stop>\r\n\t\t\t\t<view class=\"bookname\">书名</view>\r\n\t\t\t\t<scroll-view scroll-y=\"true\" class=\"directory-list\" :scroll-into-view=\"`chapter${chapterId}`\">\r\n\t\t\t\t\t<view v-for=\"item of directoryList\" :key=\"item.chapterId\" class=\"directory-listItem\" :class=\"{active: item.chapterId === chapterId}\"\r\n\t\t\t\t\t :id=\"`chapter${item.chapterId}`\" @click=\"goToChapter(item.chapterId)\">\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport myProgress from '../../components/myProgress.vue'\r\n\timport { traditionalized, simplized } from '../../utils/utils.js'\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tmyProgress\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tchapterId: '',\r\n\t\t\t\tchapterName: '',\r\n\t\t\t\tpreChapterName: '',\r\n\t\t\t\tnextChapterName: '',\r\n\t\t\t\ttextFixed:`<p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p><p>测试测试测试测试测试，测试测试，测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测试测试测试，测试测试测。</p>`,\r\n\t\t\t\ttext: '',\r\n\t\t\t\tnextText: '',\r\n\t\t\t\tpreText: '',\r\n\t\t\t\tdirectoryList: [],  //目录列表\r\n\t\t\t\tpreTranslateX: 0,  //上一章的位移\r\n\t\t\t\t\r\n\t\t\t\tshowAnimation: false, //是否开启动画\r\n\t\t\t\tpages: [],\r\n\t\t\t\tprePages: [],\r\n\t\t\t\tnextPages: [],\r\n\t\t\t\tcontentWidth: 0,\r\n\t\t\t\tcontentHeight: 0,\r\n\t\t\t\twindowWidth: 0,\r\n\t\t\t\twindowHeight: 0,\r\n\t\t\t\tplatform: '',  //设备\r\n\t\t\t\tbatteryState: '', //电池状态\r\n\t\t\t\tbatteryLevel: '', //电量\r\n\t\t\t\tstatusBarHeight: 0, //状态栏高度\r\n\t\t\t\t\r\n\t\t\t\tcolumnGap: 40,\r\n\t\t\t\tcurrentPage: 0,\r\n\t\t\t\ttouchStartX: 0,  // 触屏起始点\r\n\t\t\t\ttouchStartT: 0,  //触屏起始时间\r\n\t\t\t\ttouchTimer: null  ,//用于触摸节流\r\n\t\t\t\tmenuShow: false,  //菜单栏box是否渲染\r\n\t\t\t\titemShow: false,  // 菜单栏动画控制\r\n\t\t\t\tsettingShow: false,  //设置栏动画控制\r\n\t\t\t\tdirectoryShow: false,  //目录动画控制\r\n\t\t\t\tturnPageTime: 0.5,  //翻页动画时间\r\n\t\t\t\t\r\n\t\t\t\tfontSize: '',\r\n\t\t\t\tsimplified: '',\r\n\t\t\t\tlineHeight: '',\r\n\t\t\t\tbackground: '',\r\n\t\t\t\tcolorList: ['#000', '#666'],\r\n\t\t\t\t\r\n\t\t\t\tnextChapterLoaded: false,   //下一章是否加载完毕\r\n\t\t\t\tpreChapterLoaded: false,   //上一章是否加载完毕\r\n\t\t\t\twaitForTurnChapter: false,   //加载章节后是否跳转页面\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.getSystemInfo()\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.initPage()\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tprogress() {\r\n\t\t\t\treturn this.currentPage / (this.pages.length - 1);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 返回上一页面\r\n\t\t\t**/\r\n\t\t\tback() {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 获取设备信息\r\n\t\t\t**/\r\n\t\t\tgetSystemInfo() {\r\n\t\t\t\t\r\n\t\t\t\tconst { windowWidth, windowHeight, statusBarHeight, platform } = uni.getSystemInfoSync();\r\n\t\t\t\tthis.statusBarHeight = statusBarHeight;\r\n\t\t\t\tthis.windowWidth = windowWidth;\r\n\t\t\t\tthis.windowHeight = windowHeight;\r\n\t\t\t\tthis.contentWidth = windowWidth - 40;\r\n\t\t\t\tthis.contentHeight = windowHeight - 60;\r\n\t\t\t\tthis.platform = platform;\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tplus.navigator.setFullscreen(true);\r\n\t\t\t\t\t// 获取安卓电量\r\n\t\t\t\t\tif (this.platform === 'ios') {\r\n\t\t\t\t\t\tlet UIDevice = plus.ios.import(\"UIDevice\");  \r\n\t\t\t\t\t\tlet dev = UIDevice.currentDevice();  \r\n\t\t\t\t\t\tif (!dev.isBatteryMonitoringEnabled()) {  \r\n\t\t\t\t\t\t    dev.setBatteryMonitoringEnabled(true);  \r\n\t\t\t\t\t\t}  \r\n\t\t\t\t\t\tthis.batteryState = dev.batteryState();\r\n\t\t\t\t\t\tthis.batteryLevel = dev.batteryLevel();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tlet main = plus.android.runtimeMainActivity();\r\n\t\t\t\t\t\tlet Intent = plus.android.importClass('android.content.Intent');  \r\n\t\t\t\t\t\tlet recevier = plus.android.implements('io.dcloud.feature.internal.reflect.BroadcastReceiver', {  \r\n\t\t\t\t\t\t    onReceive: (context, intent) => {  \r\n\t\t\t\t\t\t        let action = intent.getAction();  \r\n\t\t\t\t\t\t        if (action == Intent.ACTION_BATTERY_CHANGED) {  \r\n\t\t\t\t\t\t            this.batteryState = intent.getIntExtra(\"status\", 0); //电池状态  \r\n\t\t\t\t\t\t\t\t\tthis.batteryLevel = intent.getIntExtra(\"level\", 0); //电量\r\n\t\t\t\t\t\t        }  \r\n\t\t\t\t\t\t    }  \r\n\t\t\t\t\t\t });  \r\n\t\t\t\t\t\tlet IntentFilter = plus.android.importClass('android.content.IntentFilter');  \r\n\t\t\t\t\t\tlet filter = new IntentFilter(Intent.ACTION_BATTERY_CHANGED);  \r\n\t\t\t\t\t\tmain.registerReceiver(recevier, filter); \r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// 获取字体、排版等信息\r\n\t\t\t\tthis.fontSize = uni.getStorageSync('fontSize') || 16;\r\n\t\t\t\tthis.simplified = uni.getStorageSync('simplified');\r\n\t\t\t\tthis.lineHeight = uni.getStorageSync('lineHeight') || 1.5;\r\n\t\t\t\tthis.background = uni.getStorageSync('background') || 1;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 获取数据初始化页面\r\n\t\t\t**/\r\n\t\t\tasync initPage() {\r\n\t\t\t\tthis.preTranslateX = -this.windowWidth - 20;\r\n\t\t\t\tawait this.getData()\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.calcPages()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 计算阅读页长度,并生成pages,并跳转至某页（如果有）\r\n\t\t\t**/\r\n\t\t\tcalcPages(type, progress) {\r\n\t\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\tquery.select('#text').boundingClientRect(data => {\r\n\t\t\t\t\tlet width = data.width;\r\n\t\t\t\t\tlet height = data.height;\r\n\t\t\t\t\tthis.pages = this.genPages(width, height)\r\n\t\t\t\t\tif (type === 1) {\r\n\t\t\t\t\t\tthis.currentPage = Math.floor((this.pages.length - 1) * progress)\r\n\t\t\t\t\t\tthis.goToPage(this.currentPage)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).exec();\r\n\t\t\t\tthis.calcPrePages()\r\n\t\t\t\tthis.calcNextPages()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 计算上一章阅读页长度,并生成pages,并跳转至某页（如果有）\r\n\t\t\t**/\r\n\t\t\tcalcPrePages() {\r\n\t\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\tquery.select('#preText').boundingClientRect(data => {\r\n\t\t\t\t\tlet width = data.width;\r\n\t\t\t\t\tlet height = data.height;\r\n\t\t\t\t\tthis.prePages = this.genPages(width, height)\r\n\t\t\t\t\tthis.preChapterLoaded = true;\r\n\t\t\t\t\tif (this.waitForTurnChapter) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthis.waitForTurnChapter = false;\r\n\t\t\t\t\t\tthis.preChapter()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).exec();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 计算下一章阅读页长度,并生成pages,并跳转至某页（如果有）\r\n\t\t\t**/\r\n\t\t\tcalcNextPages() {\r\n\t\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\t\tquery.select('#nextText').boundingClientRect(data => {\r\n\t\t\t\t\tlet width = data.width;\r\n\t\t\t\t\tlet height = data.height;\r\n\t\t\t\t\tthis.nextPages = this.genPages(width, height)\r\n\t\t\t\t\tthis.nextChapterLoaded = true;\r\n\t\t\t\t\tif (this.waitForTurnChapter) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthis.waitForTurnChapter = false;\r\n\t\t\t\t\t\tthis.nextChapter()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).exec();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 生成阅读页pages\r\n\t\t\t**/\r\n\t\t\tgenPages(width, height) {\r\n\t\t\t\tlet arr = [];\r\n\t\t\t\tlet id = 0;\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tif (this.platform === 'ios') {\r\n\t\t\t\t\twhile (height > 0) {\r\n\t\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\tzIndex: 200 - id,\r\n\t\t\t\t\t\t\ttranslateX: 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tid++;\r\n\t\t\t\t\t\theight -= this.contentHeight\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\twhile (width > 0) {\r\n\t\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\tzIndex: 200 - id,\r\n\t\t\t\t\t\t\ttranslateX: 0\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tid++;\r\n\t\t\t\t\t\twidth -= this.contentWidth + this.columnGap\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef APP-PLUS\r\n\t\t\t\twhile (width > 0) {\r\n\t\t\t\t\tarr.push({\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tzIndex: 200 - id,\r\n\t\t\t\t\t\ttranslateX: 0\r\n\t\t\t\t\t});\r\n\t\t\t\t\tid++;\r\n\t\t\t\t\twidth -= this.contentWidth + this.columnGap\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\treturn arr;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 触摸开始\r\n\t\t\t**/\r\n\t\t\ttouchStart(e) {\r\n\t\t\t\tthis.showAnimation = false;\r\n\t\t\t\tthis.touchStartX = e.touches[0].clientX;\r\n\t\t\t\tthis.touchStartT = e.timeStamp;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 触摸结束\r\n\t\t\t**/\r\n\t\t\ttouchEnd(e) {\r\n\t\t\t\tthis.showAnimation = true;\r\n\t\t\t\tlet deltaX = e.changedTouches[0].clientX - this.touchStartX;\r\n\t\t\t\tif (deltaX === 0) {  //deltaX === 0为点击\r\n\t\t\t\t\tif (e.changedTouches[0].clientX<this.windowWidth/3) {\r\n\t\t\t\t\t\tthis.prePage()\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (e.changedTouches[0].clientX>this.windowWidth/3*2) {\r\n\t\t\t\t\t\tthis.nextPage()\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.showMenu()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (deltaX > this.windowWidth/2) {\r\n\t\t\t\t\t\tthis.prePage()\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (deltaX < -this.windowWidth/2) {\r\n\t\t\t\t\t\tthis.nextPage()\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tlet v = 0;\r\n\t\t\t\t\t\tv = deltaX / (e.timeStamp - this.touchStartT);\r\n\t\t\t\t\t\tif (v <= 0.1 && v > 0) {  //翻页速度慢，取消翻页\r\n\t\t\t\t\t\t\tif (this.currentPage !== 0) {\r\n\t\t\t\t\t\t\t\tthis.pages[this.currentPage - 1].translateX = -this.windowWidth - 20;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tthis.preTranslateX = -this.windowWidth - 20;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (v >= -0.1 && v < 0) {  //翻页速度慢，取消翻页\r\n\t\t\t\t\t\t\tthis.pages[this.currentPage].translateX = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(v > 0.1) {\r\n\t\t\t\t\t\t\tthis.prePage()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (v < -0.1) {\r\n\t\t\t\t\t\t\tthis.nextPage()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 触摸\r\n\t\t\t**/\r\n\t\t\ttouchMove(e) {\r\n\t\t\t\tif (!this.touchTimer) {\r\n\t\t\t\t\tlet deltaX = e.touches[0].clientX - this.touchStartX;\r\n\t\t\t\t\tif (deltaX < 0) {\r\n\t\t\t\t\t\tif (this.currentPage === this.pages.length - 1) {  //如果翻至最后一页\r\n\t\t\t\t\t\t\tif (!this.nextChapterLoaded) {\r\n\t\t\t\t\t\t\t\tthis.waitForTurnChapter = true;\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t\ttitle: '正在加载中请稍候'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.nextText.length === 0) {  //如果没有下一章\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '这是最后一章',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tthis.pages[this.currentPage].translateX = deltaX;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.pages[this.currentPage].translateX = deltaX;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (this.currentPage === 0) {  //如果是第一页\r\n\t\t\t\t\t\t\tif (!this.preChapterLoaded) {\r\n\t\t\t\t\t\t\t\tthis.waitForTurnChapter = true;\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t\ttitle: '正在加载中请稍候'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.preText.length === 0) {  //如果没有上一章\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '这是第一章',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tthis.preTranslateX = -this.windowWidth + deltaX;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.pages[this.currentPage - 1].translateX = -this.windowWidth + deltaX;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.touchTimer = setTimeout(() => {\r\n\t\t\t\t\t\tthis.touchTimer = null;\r\n\t\t\t\t\t}, 100)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 呼出菜单\r\n\t\t\t**/\r\n\t\t\tshowMenu() {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tplus.navigator.setFullscreen(false);\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.menuShow = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.itemShow = true\r\n\t\t\t\t},100)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 关闭菜单\r\n\t\t\t**/\r\n\t\t\tcloseMenu() {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tplus.navigator.setFullscreen(true);\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.itemShow = false\r\n\t\t\t\tthis.settingShow = false\r\n\t\t\t\tthis.directoryShow = false\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.menuShow = false\r\n\t\t\t\t},300)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 关闭菜单栏，呼出设置栏\r\n\t\t\t**/\r\n\t\t\topenSetting() {\r\n\t\t\t\t\r\n\t\t\t\tthis.itemShow = false\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.settingShow = true\r\n\t\t\t\t},300)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 关闭菜单栏，呼出目录栏\r\n\t\t\t**/\r\n\t\t\topenDirectory() {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tplus.navigator.setFullscreen(true);\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.itemShow = false\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.directoryShow = true\r\n\t\t\t\t},300)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 上一页\r\n\t\t\t**/\r\n\t\t\tprePage() {\r\n\t\t\t\tif (this.currentPage === 0) {\r\n\t\t\t\t\tif (!this.preChapterLoaded) {\r\n\t\t\t\t\t\tthis.preChapter()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( this.preText.length === 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '这是第一章',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse  {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: this.preChapterName,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.preTranslateX = 0;\r\n\t\t\t\t\t\t// 动画结束后获取上一章,重置页面\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.preChapter()\r\n\t\t\t\t\t\t}, this.turnPageTime*1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.pages[this.currentPage - 1].translateX = 0;\r\n\t\t\t\t\tthis.currentPage--;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 下一页\r\n\t\t\t**/\r\n\t\t\tnextPage() {\r\n\t\t\t\tif (this.currentPage === this.pages.length - 1) {\r\n\t\t\t\t\tif (!this.nextChapterLoaded) {  //下一章未加载完毕\r\n\t\t\t\t\t\tthis.nextChapter()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( this.nextText.length === 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '这是最后一章',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: this.nextChapterName,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.pages[this.currentPage].translateX = -this.windowWidth - 20;\r\n\t\t\t\t\t\t// 动画结束后获取下一章,重置页面\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.nextChapter()\r\n\t\t\t\t\t\t}, this.turnPageTime*1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.pages[this.currentPage].translateX = -this.windowWidth - 20;\r\n\t\t\t\t\tthis.currentPage++;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 获取下一章,重置页面，将本章变为前一章，将下一章变为本章，获取下一章内容\r\n\t\t\t**/\r\n\t\t\tnextChapter() {\r\n\t\t\t\tif (!this.nextChapterLoaded) {\r\n\t\t\t\t\tthis.waitForTurnChapter = true;\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\ttitle: '正在加载中请稍候'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.chapterId++;\r\n\t\t\t\tthis.preText = this.text;\r\n\t\t\t\tthis.text = this.nextText;\r\n\t\t\t\tthis.nextText = '';\r\n\t\t\t\tthis.getText(this.chapterId + 1, 'next')\r\n\t\t\t\tthis.prePages = this.pages.map((value) => {\r\n\t\t\t\t\tvalue.translateX = 0;\r\n\t\t\t\t\treturn value\r\n\t\t\t\t});\r\n\t\t\t\tthis.pages = [].concat(this.nextPages);\r\n\t\t\t\tthis.nextPages = [];\r\n\t\t\t\tthis.preChapterName = this.chapterName;\r\n\t\t\t\tthis.chapterName = this.nextChapterName;\r\n\t\t\t\tthis.nextChapterName = '';\r\n\t\t\t\tthis.currentPage = 0;\r\n\t\t\t\tthis.goToPage(this.currentPage)\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 获取上一章,重置页面，将本章变为后一章，将上一章变为本章，获取上一章内容\r\n\t\t\t**/\r\n\t\t\tpreChapter() {\r\n\t\t\t\tif (!this.preChapterLoaded) {\r\n\t\t\t\t\tthis.waitForTurnChapter = true;\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\ttitle: '正在加载中请稍候'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.preTranslateX = -this.windowWidth - 20;\r\n\t\t\t\tthis.chapterId--;\r\n\t\t\t\tthis.nextText = this.text;\r\n\t\t\t\tthis.text = this.preText;\r\n\t\t\t\tthis.preText = '';\r\n\t\t\t\tthis.getText(this.chapterId - 1, 'pre')\r\n\t\t\t\tthis.nextPages = this.pages.map((value) => {\r\n\t\t\t\t\tvalue.translateX = 0;\r\n\t\t\t\t\treturn value\r\n\t\t\t\t});\r\n\t\t\t\tthis.pages = [].concat(this.prePages);\r\n\t\t\t\tthis.prePages = [];\r\n\t\t\t\tthis.nextChapterName = this.chapterName;\r\n\t\t\t\tthis.chapterName = this.preChapterName;\r\n\t\t\t\tthis.preChapterName = '';\r\n\t\t\t\t\r\n\t\t\t\tthis.currentPage = this.pages.length - 1;\r\n\t\t\t\tthis.goToPage(this.currentPage)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 根据页码跳转\r\n\t\t\t**/\r\n\t\t\tgoToPage(page) {\r\n\t\t\t\tif (page > this.pages.length - 1) {\r\n\t\t\t\t\tpage = this.pages.length - 1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.showAnimation = false;\r\n\t\t\t\tthis.currentPage = page\r\n\t\t\t\tthis.pages.forEach((value, index) => {\r\n\t\t\t\t\tif (index < page) {\r\n\t\t\t\t\t\tvalue.translateX = -this.windowWidth - 20\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue.translateX = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 加大字体\r\n\t\t\t**/\r\n\t\t\tbigSize() {\r\n\t\t\t\tif (this.fontSize < 25) {\r\n\t\t\t\t\tlet progress = this.progress;\r\n\t\t\t\t\tthis.fontSize++;\r\n\t\t\t\t\tuni.setStorageSync('fontSize', this.fontSize)\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.calcPages(1, progress)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '最大字体',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 缩小字体\r\n\t\t\t**/\r\n\t\t\tsmallSize() {\r\n\t\t\t\tif (this.fontSize > 14) {\r\n\t\t\t\t\tlet progress = this.progress;\r\n\t\t\t\t\tthis.fontSize--;\r\n\t\t\t\t\tuni.setStorageSync('fontSize', this.fontSize)\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.calcPages(1, progress)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '最小字体',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 切换繁体简体\r\n\t\t\t**/\r\n\t\t\tchangeFont(type) {\r\n\t\t\t\tif (!type) {   //切换为繁体\r\n\t\t\t\t\tthis.text = traditionalized(this.text)\r\n\t\t\t\t\tthis.preText = traditionalized(this.preText)\r\n\t\t\t\t\tthis.nextText = traditionalized(this.nextText)\r\n\t\t\t\t\tthis.simplified = false\r\n\t\t\t\t\tuni.setStorageSync('simplified', false)\r\n\t\t\t\t}\r\n\t\t\t\telse {   //切换为简体\r\n\t\t\t\t\tthis.text = simplized(this.text)\r\n\t\t\t\t\tthis.preText = simplized(this.preText)\r\n\t\t\t\t\tthis.nextText = simplized(this.nextText)\r\n\t\t\t\t\tthis.simplified = true\r\n\t\t\t\t\tuni.setStorageSync('simplified', true)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 改变行距\r\n\t\t\t**/\r\n\t\t\tchangeLineHeight(lineHeight) {\r\n\t\t\t\tif (lineHeight === this.lineHeight) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlet progress = this.progress;\r\n\t\t\t\t\tthis.lineHeight = lineHeight;\r\n\t\t\t\t\tuni.setStorageSync('lineHeight', this.lineHeight)\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.calcPages(1, progress)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 改变背景\r\n\t\t\t**/\r\n\t\t\tchangeBackground(background) {\r\n\t\t\t\tif (background === this.background) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.background = background;\r\n\t\t\t\t\tuni.setStorageSync('background', this.background)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 获取数据，包括阅读到第几章，以及前中后三章内容\r\n\t\t\t**/\r\n\t\t\tgetData() {\r\n\t\t\t\tuni.showLoading({mask: true})\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t// 模拟网络时间\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthis.nextChapterLoaded = true;\r\n\t\t\t\t\t\tthis.preChapterLoaded = true;\r\n\t\t\t\t\t\tthis.chapterId = 2;\r\n\t\t\t\t\t\tthis.chapterName = `第${this.chapterId}章 测试测试`;\r\n\t\t\t\t\t\tthis.preChapterName = `第${this.chapterId - 1}章 测试测试`;\r\n\t\t\t\t\t\tthis.nextChapterName = `第${this.chapterId + 1}章 测试测试`;\r\n\t\t\t\t\t\tthis.text = this.chapterId + this.textFixed;\r\n\t\t\t\t\t\tthis.preText = this.chapterId - 1 + this.textFixed;\r\n\t\t\t\t\t\tthis.nextText = this.chapterId + 1 + this.textFixed;\r\n\t\t\t\t\t\tif (!this.simplified) {   //切换为繁体\r\n\t\t\t\t\t\t\tthis.text = traditionalized(this.text)\r\n\t\t\t\t\t\t\tthis.preText = traditionalized(this.preText)\r\n\t\t\t\t\t\t\tthis.nextText = traditionalized(this.nextText)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 生成目录，正常是后端传过来\r\n\t\t\t\t\t\tfor (let i=1;i<=100;i++) {\r\n\t\t\t\t\t\t\tthis.directoryList.push({\r\n\t\t\t\t\t\t\t\tchapterId: i,\r\n\t\t\t\t\t\t\t\tname: `第${i}章 测试测试`\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 获取上一章或下一章数据\r\n\t\t\t**/\r\n\t\t\tgetText(chapterId, type) {\r\n\t\t\t\tif (type === 'next') {\r\n\t\t\t\t\tthis.nextChapterLoaded = false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.preChapterLoaded = false;\r\n\t\t\t\t}\r\n\t\t\t\t// 模拟网络时间\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (type === 'next') {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.nextText = chapterId + this.textFixed;\r\n\t\t\t\t\t\tthis.nextChapterName = `第${chapterId}章 测试测试`;\r\n\t\t\t\t\t\tif (!this.simplified) {   //切换为繁体\r\n\t\t\t\t\t\t\tthis.nextText = traditionalized(this.nextText)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.calcNextPages()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (chapterId === 0) {\r\n\t\t\t\t\t\t\tthis.preText = '';\r\n\t\t\t\t\t\t\tthis.preChapterName = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.preText = chapterId + this.textFixed;\r\n\t\t\t\t\t\t\tthis.preChapterName = `第${chapterId}章 测试测试`;\r\n\t\t\t\t\t\t\tif (!this.simplified) {   //切换为繁体\r\n\t\t\t\t\t\t\t\tthis.preText = traditionalized(this.preText)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\t\tthis.calcPrePages()\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t* 跳转到指定章节\r\n\t\t\t**/\r\n\t\t\tgoToChapter(chapterId) {\r\n\t\t\t\tthis.closeMenu()\r\n\t\t\t\tuni.showLoading({mask: true})\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t// 模拟网络时间\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthis.nextChapterLoaded = true;\r\n\t\t\t\t\t\tthis.preChapterLoaded = true;\r\n\t\t\t\t\t\tthis.chapterId = chapterId;\r\n\t\t\t\t\t\tthis.chapterName = `第${this.chapterId}章 测试测试`;\r\n\t\t\t\t\t\tthis.preChapterName = `第${this.chapterId - 1}章 测试测试`;\r\n\t\t\t\t\t\tthis.nextChapterName = `第${this.chapterId + 1}章 测试测试`;\r\n\t\t\t\t\t\tthis.text = this.chapterId + this.textFixed;\r\n\t\t\t\t\t\tthis.preText = this.chapterId - 1 + this.textFixed;\r\n\t\t\t\t\t\tthis.nextText = this.chapterId + 1 + this.textFixed;\r\n\t\t\t\t\t\tif (!this.simplified) {   //切换为繁体\r\n\t\t\t\t\t\t\tthis.text = traditionalized(this.text)\r\n\t\t\t\t\t\t\tthis.preText = traditionalized(this.preText)\r\n\t\t\t\t\t\t\tthis.nextText = traditionalized(this.nextText)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.calcPages(1, 0)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\tpage{\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.hidden{\r\n\t\topacity: 0;\r\n\t}\r\n\t.icon{\r\n\t\t\r\n\t}\r\n\t.action{\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 301;\r\n\t\t.item{\r\n\t\t\tflex: 1;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n\t.container{\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0px 20px;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-shadow: 0 0 10px 0 rgba(0,0,0,.4);\r\n\t\toverflow: hidden;\r\n\t\t.chapter{\r\n\t\t\tfont-size: 14px;\r\n\t\t\tcolor: $minor-text-color;\r\n\t\t\theight:30px;\r\n\t\t\tline-height: 30px;\r\n\t\t}\r\n\t\t.bottom-bar{\r\n\t\t\tfont-size: 14px;\r\n\t\t\tcolor: $minor-text-color;\r\n\t\t\theight:30px;\r\n\t\t\tline-height: 30px;\r\n\t\t}\r\n\t\t.content{\r\n\t\t\t.book-inner{\r\n\t\t\t\ttext-indent: 2em;\r\n\t\t\t\ttext-align:justify;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.container0{\r\n\t\tbackground: url(../../static/background1.jpg);\r\n\t\tbackground-color: #fff;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n\t.container1{\r\n\t\tbackground-color: #000;\r\n\t}\r\n\t.menu{\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 302;\r\n\t\ttransition: all .3s;\r\n\t\t.menu-top{\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: #333;\r\n\t\t\ttransition: top .3s;\r\n\t\t\t.head{\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 40px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tline-height: 40px;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n\t\t\t.back{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 10px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.directory{\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-flow: column;\r\n\t\t\twidth: 600rpx;\r\n\t\t\theight: 100%;\r\n\t\t\ttransition: left .3s;\r\n\t\t\t.bookname{\r\n\t\t\t\tpadding: 20px 0 20px 10px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 18px;\r\n\t\t\t}\r\n\t\t\t.directory-list{\r\n\t\t\t\tflex:1;\r\n\t\t\t\tmin-height: 200px;\r\n\t\t\t\t.directory-listItem{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tpadding-left: 10px;\r\n\t\t\t\t\tmin-height: 40px;\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\tborder-bottom: #eee solid 1px;\r\n\t\t\t\t}\r\n\t\t\t\t.active{\r\n\t\t\t\t\tcolor: red\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.menu-bottom{\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: #333;\r\n\t\t\ttransition: bottom .3s;\r\n\t\t\tcolor: #fff;\r\n\t\t\t.show-page{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\ttransform: translate(-50%, -110%);\r\n\t\t\t\tpadding: 5px 10px;\r\n\t\t\t\theight: 30px;\r\n\t\t\t\tline-height: 20px;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tfont-size: 13px;\r\n\t\t\t\tbackground-color: #333;\r\n\t\t\t}\r\n\t\t\t.progress-box{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 0 20px;\r\n\t\t\t\theight: 50px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t}\r\n\t\t\t.items-box{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-around;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 80px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\t.item-box{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-flow: column;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.setting{\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\tpadding: 10px 20px;\r\n\t\t\twidth: 100%;\r\n\t\t\tcolor: #fff;\r\n\t\t\tbackground-color: #333;\r\n\t\t\ttransition: bottom .3s;\r\n\t\t\t.item{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\theight: 70px;\r\n\t\t\t\t.item-name{\r\n\t\t\t\t\tpadding: 10px;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t}\r\n\t\t\t\t.icon{\r\n\t\t\t\t\tmargin-right: 10px;\r\n\t\t\t\t\tpadding: 5px 20px;\r\n\t\t\t\t\tfont-size: 16px;\r\n\t\t\t\t\theight: 32px;\r\n\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\twidth: auto;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tborder-radius: 20px;\r\n\t\t\t\t\tborder: #fff solid 1px;\r\n\t\t\t\t}\r\n\t\t\t\t.type-setting{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: space-around;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tmargin-right: 10px;\r\n\t\t\t\t\tpadding: 5px;\r\n\t\t\t\t\theight: 30px;\r\n\t\t\t\t\twidth: 30px;\r\n\t\t\t\t\tborder-radius: 5px;\r\n\t\t\t\t\tborder: #fff solid 1px;\r\n\t\t\t\t\t.line{\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tborder-bottom: #fff solid 1px; \r\n\t\t\t\t\t}\r\n\t\t\t\t\t.active{\r\n\t\t\t\t\t\tborder-bottom: #FF9900 solid 1px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.active{\r\n\t\t\t\t\tborder: #FF9900 solid 2px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n</style>","import mod from \"-!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./read.vue?vue&type=style&index=0&id=95d93a74&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./read.vue?vue&type=style&index=0&id=95d93a74&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597724806032\n      var cssReload = require(\"D:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}